(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),s=n.n(o),c=(n(18),n(19),n(1)),l=n(3),i=n.n(l),u=n(6),d=n(7),m=n(8),h=n(10),p=n(9),f=n(2),b=n(11);var E=function(e){return Object(c.a)(e.users).filter(function(t){return e.userId===t.id}).map(function(e){return r.a.createElement("td",null,e.username)})};var j=function(e){return Object(c.a)(e.todos).map(function(t){return r.a.createElement("tr",{className:"TodoItem"},r.a.createElement("td",{className:"id"},t.id),r.a.createElement("td",{className:"title"},t.title),r.a.createElement("td",{className:t.completed?"itemCompleted":"itemActive"},t.completed?"completed":"active"),r.a.createElement(E,{userId:t.userId,users:e.users,key:Date.now()}))})},v=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={users:[],todos:[],isLoaded:!1,buttonDisable:!1,sorting:"none"},n.handleClick=n.handleClick.bind(Object(f.a)(n)),n.loadingDecorator=n.loadingDecorator.bind(Object(f.a)(n)),n.handleSort=n.handleSort.bind(Object(f.a)(n)),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,n,a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/todos");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,fetch("https://jsonplaceholder.typicode.com/users");case 8:return a=e.sent,e.next=11,a.json();case 11:r=e.sent,this.setState(function(){return{users:r,todos:n,isLoaded:!0}});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadingDecorator",value:function(){this.setState(function(){return{buttonDisable:!0}}),setTimeout(this.handleClick,1e3)}},{key:"handleSort",value:function(e){e.persist();var t=e.target.textContent;this.setState(function(e){var n=Object(c.a)(e.todos),a=Object(c.a)(e.users);return"username"===t&&(a.forEach(function(e){n.map(function(t){if(e.id===t.userId)return t.username=e.username})}),n.sort(function(e,t){return e.username.localeCompare(t.username)})),"title"===t&&n.sort(function(e,t){return e.title.localeCompare(t.title)}),"completed"===t&&n.sort(function(e,t){return e.completed.toString().localeCompare(t.completed.toString())}),{sorting:t,users:a,todos:n}})}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement("div",null,r.a.createElement("table",{className:"App"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"tableHead"},r.a.createElement("th",null,"id"),r.a.createElement("th",{onClick:this.handleSort},"title"),r.a.createElement("th",{onClick:this.handleSort},"completed"),r.a.createElement("th",{onClick:this.handleSort},"username"))),r.a.createElement("tbody",null,r.a.createElement(j,{todos:this.state.todos,users:this.state.users})))):r.a.createElement("button",{className:"loadButton",onClick:this.loadingDecorator,disabled:this.state.buttonDisable},this.state.buttonDisable?"LOADING":"LOAD")}}]),t}(a.Component);var k=function(){return r.a.createElement(v,null)};s.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.e7507db6.chunk.js.map